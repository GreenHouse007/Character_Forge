import { Feat } from '@/types/feat';

export const teamworkFeats: Feat[] = [
  {
    name: 'Shake It Off',
    category: 'Teamwork',
    source: 'UC',
    description: 'You support your allies and help them recover from crippling effects.',
    benefit: 'When you are adjacent to one or more allies who also have this feat, you gain a +1 bonus on saving throws per such ally (maximum +4).',
    prerequisites: [],
    isFighterBonusFeat: true,
  },
  {
    name: 'Stealth Synergy',
    category: 'Teamwork',
    source: 'UC',
    description: 'Working closely with an ally, you are able to move quietly as a group.',
    benefit: 'While you can see one or more allies who also have this feat, whenever you and your allies make a Stealth check, you all take the highest roll and add all your modifiers to Stealth.',
    prerequisites: [],
    isFighterBonusFeat: true,
  },
  {
    name: 'Lookout',
    category: 'Teamwork',
    source: 'APG',
    description: 'Your allies\' quick reflexes help you react to danger.',
    benefit: 'If you are adjacent to an ally who also has this feat, you may act in the surprise round as long as your ally would normally be able to act in the surprise round. If both you and your ally would be able to act in the surprise round without the aid of this feat, you may take both a standard and a move action (or a full-round action) during the surprise round.',
    prerequisites: [],
    isFighterBonusFeat: true,
  },
  {
    name: 'Back to Back',
    category: 'Teamwork',
    source: 'UC',
    description: 'Your ally\'s eyes are your own, and yours are his.',
    benefit: 'While you and an ally with this feat are adjacent, you receive a +2 circumstance bonus to AC against flanking opponents. Furthermore, you cannot be flanked unless both you and your ally are flanked.',
    prerequisites: [
      { type: 'skill', skill: 'Perception', ranks: 3 },
    ],
    isFighterBonusFeat: true,
  },
  {
    name: 'Escape Route',
    category: 'Teamwork',
    source: 'UC',
    description: 'You have learned to slither out of danger with the help of your allies.',
    benefit: 'An ally who also has this feat can provide you with cover for the purpose of calculating whether an enemy can take an attack of opportunity against you. You must be adjacent to your ally and adjacent to or in the space of the enemy attempting to take the attack of opportunity against you.',
    prerequisites: [],
    isFighterBonusFeat: true,
  },
  {
    name: 'Feint Partner',
    category: 'Teamwork',
    source: 'APG',
    description: 'A little teamwork makes your feints more effective.',
    benefit: 'Whenever an ally who also has this feat successfully feints an opponent, that opponent also loses its Dexterity bonus to AC against the next attack you make against it before the end of that ally\'s next turn.',
    prerequisites: [
      { type: 'feat', feat: 'Combat Reflexes' },
    ],
    special: 'An inquisitor may select this feat as a teamwork feat.',
    isFighterBonusFeat: true,
  },
  {
    name: 'Improved Feint Partner',
    category: 'Teamwork',
    source: 'UC',
    description: 'Knowledge of your companions\' tricks allows you to time your attacks against feinted enemies.',
    benefit: 'Whenever an ally who also has this feat successfully feints an opponent, that opponent provokes an attack of opportunity from you.',
    prerequisites: [
      { type: 'feat', feat: 'Combat Reflexes' },
      { type: 'feat', feat: 'Feint Partner' },
      { type: 'bab', value: 6 },
    ],
    isFighterBonusFeat: true,
  },
  {
    name: 'Covering Fire',
    category: 'Teamwork',
    source: 'UC',
    description: 'Your ranged attacks can suppress your enemies.',
    benefit: 'You can use the aid another action with a ranged weapon. You can use this action to suppress an enemy within 30 feet rather than aid an ally. A successful attack roll against AC 10 gives your ally a +2 bonus to AC against that target until your next turn.',
    prerequisites: [
      { type: 'feat', feat: 'Point-Blank Shot' },
    ],
    isFighterBonusFeat: true,
  },
  {
    name: 'Enfilading Fire',
    category: 'Teamwork',
    source: 'UC',
    description: 'Your shots are highly accurate when you and an ally are flanking your target.',
    benefit: 'You receive a +2 bonus on ranged attacks made against a foe flanked by one or more allies with this feat.',
    prerequisites: [
      { type: 'feat', feat: 'Point-Blank Shot' },
      { type: 'feat', feat: 'Precise Shot' },
    ],
    isFighterBonusFeat: true,
  },
  {
    name: 'Target of Opportunity',
    category: 'Teamwork',
    source: 'UC',
    description: 'You and your allies pelt your enemies with a deadly hail of missiles.',
    benefit: 'When an ally who also has this feat makes a ranged attack and hits an opponent within 30 feet of you, you can spend an immediate action to make a single ranged attack against that opponent. Your ranged weapon must be in hand, loaded, and ready to be fired or thrown for you to make the ranged attack.',
    prerequisites: [
      { type: 'feat', feat: 'Point-Blank Shot' },
      { type: 'bab', value: 6 },
    ],
    isFighterBonusFeat: true,
  },
  {
    name: 'Pack Flanking',
    category: 'Teamwork',
    source: 'ACG',
    description: 'You and your companion creature are adept at fighting together.',
    benefit: 'When you and your companion creature have this feat, your companion creature is always considered to be flanking any enemy you threaten, regardless of its actual position. However, your companion creature must be able to reach the threatened enemy to benefit from this feat.',
    prerequisites: [
      { type: 'ability', ability: 'int', value: 13 },
      { type: 'feat', feat: 'Combat Expertise' },
    ],
    special: 'If you have an animal companion, bonded mount, or familiar, that creature automatically gains this feat as a bonus feat.',
    isFighterBonusFeat: true,
  },
  {
    name: 'Bonded Mind',
    category: 'Teamwork',
    source: 'ACG',
    description: 'The mental connection you share with an ally strengthens in battle.',
    benefit: 'As long as you can see each other, you and an ally who also has this feat can trade nonverbal messages. These function as the message spell, except that they don\'t require a verbal component.',
    prerequisites: [],
    special: 'An inquisitor may select this feat as a teamwork feat.',
  },
  {
    name: 'Share Spells',
    category: 'Teamwork',
    source: 'ACG',
    description: 'You can share your spells with your allies.',
    benefit: 'You can cast a spell with a target of "you" on an ally as a touch spell, as per the share spells familiar ability. The spell must be within your ally\'s ability to cast (determined by the ally\'s highest spellcasting class level). This feat doesn\'t allow you to share spells that do not target "you" or spells that have a target entry other than "you."',
    prerequisites: [
      { type: 'feat', feat: 'Bonded Mind' },
      { type: 'casterLevel', value: 1 },
    ],
    special: 'An inquisitor may select this feat as a teamwork feat.',
  },
];
