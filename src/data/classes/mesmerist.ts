import { CharacterClass } from '../../types/class';

export const mesmerist: CharacterClass = {
  name: 'Mesmerist',
  source: 'OA',
  description: 'A manipulative occult spellcaster who uses hypnotic stares, mental tricks, and psychic power to control and debilitate foes while bolstering allies.',
  hitDie: 8,
  babProgression: 'threeQuarter',
  goodSaves: ['will'],
  skillRanksPerLevel: 6,
  classSkills: [
    'Appraise', 'Bluff', 'Craft', 'Diplomacy', 'Disguise', 'Escape Artist',
    'Intimidate', 'Knowledge (Arcana)', 'Knowledge (Dungeoneering)',
    'Knowledge (History)', 'Knowledge (Local)', 'Knowledge (Nature)',
    'Knowledge (Nobility)', 'Knowledge (Religion)', 'Linguistics',
    'Perception', 'Perform', 'Profession', 'Sense Motive',
    'Sleight of Hand', 'Spellcraft', 'Stealth', 'Use Magic Device',
  ],
  classFeatures: [
    { name: 'Consummate Liar', level: 1, description: 'Add half your mesmerist level (minimum 1) as a bonus on Bluff checks.' },
    { name: 'Hypnotic Stare', level: 1, description: 'Focus your stare on one creature within 30 feet as a swift action, imposing a -2 penalty on Will saves. This penalty increases by 1 at 8th and 16th level.' },
    { name: 'Knacks', level: 1, description: 'Cast 0-level spells at will.' },
    { name: 'Mesmerist Tricks', level: 1, description: 'Implant a trick in an ally that triggers automatically when certain conditions are met.' },
    { name: 'Painful Stare', level: 1, description: 'When an ally hits the target of your hypnotic stare, you can increase the damage by an amount equal to half your mesmerist level (minimum 1).' },
    { name: 'Towering Ego', level: 2, description: 'Add your Charisma modifier to Will saving throws.' },
    { name: 'Bold Stare', level: 3, description: 'Select a bold stare improvement at 3rd level and every 4 levels thereafter, adding new penalties to your hypnotic stare.' },
    { name: 'Touch Treatment', level: 3, description: 'Remove conditions from a creature by touch as a standard action. You can use this a number of times per day equal to 3 + your Charisma modifier.' },
    { name: 'Manifold Tricks', level: 5, description: 'Can implant multiple mesmerist tricks simultaneously. The number increases at 9th, 13th, and 17th level.' },
    { name: 'Mental Potency', level: 5, description: 'Increase the DC of your mental spells and the maximum HD of creatures affected by mind-affecting spells by 1. This bonus increases at 11th and 17th level.' },
    { name: 'Glib Lie', level: 11, description: 'Can use glibness as a spell-like ability once per day.' },
    { name: 'Masterful Tricks', level: 12, description: 'Can select masterful tricks in addition to normal mesmerist tricks.' },
    { name: 'Rule Minds', level: 20, description: 'Can use dominate monster as a spell-like ability, targeting one creature at a time indefinitely.' },
  ],
  spellProgression: {
    type: 'spontaneous',
    castingAbility: 'cha',
    maxSpellLevel: 6,
    spellsPerDay: {
      1:  { 0: 1 },
      2:  { 0: 2 },
      3:  { 0: 3 },
      4:  { 0: 3, 1: 1 },
      5:  { 0: 4, 1: 2 },
      6:  { 0: 4, 1: 3 },
      7:  { 0: 4, 1: 3, 2: 1 },
      8:  { 0: 4, 1: 4, 2: 2 },
      9:  { 0: 5, 1: 4, 2: 3 },
      10: { 0: 5, 1: 4, 2: 3, 3: 1 },
      11: { 0: 5, 1: 4, 2: 4, 3: 2 },
      12: { 0: 5, 1: 5, 2: 4, 3: 3 },
      13: { 0: 5, 1: 5, 2: 4, 3: 3, 4: 1 },
      14: { 0: 5, 1: 5, 2: 4, 3: 4, 4: 2 },
      15: { 0: 5, 1: 5, 2: 5, 3: 4, 4: 3 },
      16: { 0: 5, 1: 5, 2: 5, 3: 4, 4: 3, 5: 1 },
      17: { 0: 5, 1: 5, 2: 5, 3: 4, 4: 4, 5: 2 },
      18: { 0: 5, 1: 5, 2: 5, 3: 5, 4: 4, 5: 3 },
      19: { 0: 5, 1: 5, 2: 5, 3: 5, 4: 5, 5: 4, 6: 1 },
      20: { 0: 5, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5, 6: 2 },
    },
    spellsKnown: {
      1:  { 0: 4 },
      2:  { 0: 5, 1: 2 },
      3:  { 0: 6, 1: 3 },
      4:  { 0: 6, 1: 3, 2: 1 },
      5:  { 0: 6, 1: 4, 2: 2 },
      6:  { 0: 6, 1: 4, 2: 3 },
      7:  { 0: 6, 1: 4, 2: 3, 3: 1 },
      8:  { 0: 6, 1: 4, 2: 4, 3: 2 },
      9:  { 0: 6, 1: 5, 2: 4, 3: 3 },
      10: { 0: 6, 1: 5, 2: 4, 3: 3, 4: 1 },
      11: { 0: 6, 1: 5, 2: 4, 3: 4, 4: 2 },
      12: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 3 },
      13: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 3, 5: 1 },
      14: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 4, 5: 2 },
      15: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 3 },
      16: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 3, 6: 1 },
      17: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 4, 6: 2 },
      18: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 4, 6: 3 },
      19: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5, 6: 4 },
      20: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5, 6: 4 },
    },
  },
  startingWealth: { dice: { count: 3, sides: 6 }, multiplier: 10, average: 105 },
  proficiencies: {
    weapons: ['simple weapons', 'hand crossbow', 'sap', 'sword cane', 'whip'],
    armor: ['light armor'],
    shields: [],
  },
};
