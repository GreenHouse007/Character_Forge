import { CharacterClass } from '../../types/class';

export const spiritualist: CharacterClass = {
  name: 'Spiritualist',
  source: 'OA',
  description: 'An occult spellcaster bonded to a phantom from the Ethereal Plane, channeling emotional power through this spiritual connection to cast spells and manifest the phantom in various forms.',
  hitDie: 8,
  babProgression: 'threeQuarter',
  goodSaves: ['fortitude', 'will'],
  skillRanksPerLevel: 4,
  classSkills: [
    'Bluff', 'Craft', 'Fly', 'Heal', 'Intimidate',
    'Knowledge (Arcana)', 'Knowledge (History)', 'Knowledge (Local)',
    'Knowledge (Planes)', 'Knowledge (Religion)', 'Perception',
    'Profession', 'Sense Motive', 'Spellcraft', 'Use Magic Device',
  ],
  classFeatures: [
    { name: 'Etheric Tether', level: 1, description: 'The spiritualist is linked to her phantom by an etheric tether with a range of 50 feet + 10 feet per level. If the phantom moves beyond this range, it is immediately recalled into the spiritualist\'s consciousness.' },
    { name: 'Knacks', level: 1, description: 'Cast 0-level spells at will.' },
    { name: 'Phantom', level: 1, description: 'Gain a phantom companion with an emotional focus that determines its abilities. The phantom can manifest as an ectoplasmic or incorporeal form, or reside within the spiritualist\'s consciousness.' },
    { name: 'Shared Consciousness', level: 1, description: 'While the phantom is confined in your consciousness, gain a +4 bonus on saves against mind-affecting effects and the phantom shares your senses.' },
    { name: 'Bonded Senses', level: 2, description: 'As a standard action, share your phantom\'s senses, perceiving through its eyes and ears for a number of rounds per day equal to your spiritualist level.' },
    { name: 'Bonded Manifestation', level: 3, description: 'While the phantom is confined to your consciousness, gain abilities based on its emotional focus. Additional powers unlock at 9th and 15th level.' },
    { name: 'Spiritual Interference', level: 4, description: 'While the phantom is within your consciousness, gain a +2 shield bonus to AC and a +2 circumstance bonus on saving throws.' },
    { name: 'Detect Undead', level: 5, description: 'Can use detect undead at will as a spell-like ability.' },
    { name: 'Calm Spirit', level: 6, description: 'Can use calm spirit as a spell-like ability a number of times per day equal to your spiritualist level.' },
    { name: 'See Invisibility', level: 8, description: 'Can use see invisibility as a constant spell-like ability.' },
    { name: 'Fused Consciousness', level: 10, description: 'While the phantom is confined to your consciousness, you are protected from possession and mental control, and the phantom can use its slam attack through you.' },
    { name: 'Greater Spiritual Interference', level: 12, description: 'The shield bonus from spiritual interference increases to +4 and the circumstance bonus on saving throws increases to +4.' },
    { name: 'Spiritual Bond', level: 14, description: 'When you or your phantom would be reduced to fewer than 0 hit points, you may split the damage evenly between you and the phantom.' },
    { name: 'Phantom Recall', level: 16, description: 'Can recall your phantom to your consciousness as a swift action from any distance on the same plane.' },
    { name: 'Dual Bond', level: 17, description: 'While the phantom is manifested, gain both the bonded manifestation and shared consciousness benefits simultaneously.' },
    { name: 'Empowered Consciousness', level: 20, description: 'While the phantom is confined to your consciousness, gain immunity to mind-affecting effects and the phantom\'s slam damage dice increase by one step.' },
  ],
  spellProgression: {
    type: 'spontaneous',
    castingAbility: 'wis',
    maxSpellLevel: 6,
    spellsPerDay: {
      1:  { 0: 4, 1: 1 },
      2:  { 0: 5, 1: 2 },
      3:  { 0: 6, 1: 3 },
      4:  { 0: 6, 1: 3, 2: 1 },
      5:  { 0: 6, 1: 4, 2: 2 },
      6:  { 0: 6, 1: 4, 2: 3 },
      7:  { 0: 6, 1: 4, 2: 3, 3: 1 },
      8:  { 0: 6, 1: 4, 2: 4, 3: 2 },
      9:  { 0: 6, 1: 5, 2: 4, 3: 3 },
      10: { 0: 6, 1: 5, 2: 4, 3: 3, 4: 1 },
      11: { 0: 6, 1: 5, 2: 4, 3: 4, 4: 2 },
      12: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 3 },
      13: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 3, 5: 1 },
      14: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 4, 5: 2 },
      15: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 3 },
      16: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 3, 6: 1 },
      17: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 4, 5: 4, 6: 2 },
      18: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 4, 6: 3 },
      19: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5, 6: 4 },
      20: { 0: 6, 1: 5, 2: 5, 3: 5, 4: 5, 5: 5, 6: 5 },
    },
    spellsKnown: {
      1:  { 0: 4, 1: 2 },
      2:  { 0: 5, 1: 3 },
      3:  { 0: 6, 1: 4 },
      4:  { 0: 6, 1: 4, 2: 2 },
      5:  { 0: 6, 1: 4, 2: 3 },
      6:  { 0: 6, 1: 4, 2: 4 },
      7:  { 0: 6, 1: 5, 2: 4, 3: 2 },
      8:  { 0: 6, 1: 5, 2: 4, 3: 3 },
      9:  { 0: 6, 1: 5, 2: 5, 3: 4 },
      10: { 0: 6, 1: 5, 2: 5, 3: 4, 4: 2 },
      11: { 0: 6, 1: 6, 2: 5, 3: 4, 4: 3 },
      12: { 0: 6, 1: 6, 2: 5, 3: 5, 4: 4 },
      13: { 0: 6, 1: 6, 2: 6, 3: 5, 4: 4, 5: 2 },
      14: { 0: 6, 1: 6, 2: 6, 3: 5, 4: 4, 5: 3 },
      15: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 5, 5: 4 },
      16: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 5, 5: 4, 6: 2 },
      17: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 5, 5: 4, 6: 3 },
      18: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 6, 5: 5, 6: 4 },
      19: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 6, 5: 5, 6: 4 },
      20: { 0: 6, 1: 6, 2: 6, 3: 6, 4: 6, 5: 6, 6: 4 },
    },
  },
  startingWealth: { dice: { count: 2, sides: 6 }, multiplier: 10, average: 70 },
  proficiencies: {
    weapons: ['simple weapons'],
    armor: ['light armor', 'medium armor'],
    shields: ['shields (except tower shields)'],
  },
};
